For each simulation tick, each craft will be able to execute a set number of
instructions.

All registers are saved between runs. Each run starts at the top of the
program.


all registers are 64bit
128 float registers
all registers reset to 0

load/store from/to (if applicable):
  chrono
    current (Julian Date)
    timer0
      at
      vector
    timer1
    timer2
    timer3
  irs
    position
      x
      y
      z
    orbit
    orientation
      roll
      pitch
      yaw
    accelerometer
      x
      y
      z
    gyro
      roll
      pitch
      yaw
  adf
    beacon0
      code
      bearing
        pitch
        yaw 
        distance
      position
        x
        y
        z
    beacon1
    beacon2
    beacon3
  craft
    mass
  fuel
    eff_exh_vel
    amount
    level
  thrusters
    mass_flow_rate
    attitude
      roll
      pitch
      yaw
    position
      x
      y
      z

jmp
jmpz
jmpnz
jmpp/jmpgt
jmpn/jmplt
jmpge
jmple

loop

printf

ld
ld3
ld6
st
st3

abs
max
min
exp
expm1
log
log1p
sqrt
cbrt
cube
hypot2
ceil
floor
round
pow
modpow
sin
cos
tan
asin
acos
atan
atan2
sinh
cosh
tanh
asinh
acosh
atanh
erf
erfc
quadraticroots
evalpoly
kepler
dist33

add3
sub3
muls3
divs3
dot33
cross33
norm2
normalize2
norm3
normalize3
lerp33s




constants that can be loaded
M_E
M_LOG2E
M_LOG10E
M_SQRT2
M_SQRT1_2
M_SQRT3
M_PI
M_PI_2
M_PI_4
M_SQRTPI
M_2_SQRTPI
M_1_PI
M_2_PI
M_LN10
M_LN2
M_LNPI
M_EULER

M_C

MU_G0
MU_G_EARTH
MU_G_SUN

V3_1

KE_MERCURY
KE_VENUS  
KE_EARTH_MOON_BARYCENTER
KE_MARS   
KE_JUPITER
KE_SATURN 
KE_URANUS 
KE_NEPTUNE
... for the moons https://ssd.jpl.nasa.gov/sats/elem/
... and the small bodies https://ssd.jpl.nasa.gov/sb/elem_tables.html

Example
--------
; Go to a Earth
.def CUR_POS f0 f1 f2
.def EARTH_POS f3 f4 f5
.def CUR_TIME f6
.def DIST f7
.def TMP f8
.def CUR_MASS f9
.def MAX_ACCL f10
.def MIN_FUEL 0.25
.def FUEL_PERC_TO_USE f11
.def FUEL_AMOUNT_TO_USE f12
.def BURN_IMPULSE f13
.def BURN_DV f14
.def COUNTER f15
.dev MAX_ITER 5

sub FUEL_PERC_TO_USE fuel.level MIN_FUEL
mul FUEL_AMOUNT_TO_USE FUEL_PERC_TO_USE fuel.amount
div FUEL_AMOUNT_TO_USE FUEL_AMOUNT_TO_USE 2
div BURN_IMPULSE FUEL_AMOUNT_TO_USE fuel.eff_exh_vel
div BURN_DV BURN_IMPULSE craft.mass

ld COUNTER MAX_ITER

kepler EARTH_POS chronometer.current ephemeris.earth
dist33 DIST irs.position EARTH_POS

